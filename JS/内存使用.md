## JS 单线程
我们知道 `JavaScript` 是单线程的，所谓单线程，是指在 `JavaScript引擎` 中负责解释和执行 `JavaScript` 代码的线程唯一，同一时间上只能执行一件任务。
为什么是单线程的喃？这是因为 `JavaScript` 可以修改 `DOM结构`，如果 `JavaScript引擎线程` 不是单线程的，那么可以同时执行多段 `JavaScript`，如果这多段 `JavaScript` 都修改 `DOM`，那么就会出现 `DOM冲突`。
为了避免 `DOM` 渲染的冲突，可以采用**单线程或者死锁**，`JavaScript` 采用了单线程方案。

---

### JS 内存机制
`JavaScript` 中的内存空间主要分为三种类型：
* 代码空间：主要用来存放可执行代码
* 栈空间：调用栈的存储空间就是栈空间。
* 堆空间

`JavaScript` 中的变量类型有 8 种，可分为两种：`基本类型`、`引用类型`
基本类型：
* undefined
* null
* number
* string
* boolean
* symbol
* bigint

引用类型：
* object

**基本类型是保存在栈内存中的简单数据段，而引用类型保存在堆内存中。**

#### 栈空间
基本类型在内存中占有**固定大小**的空间，所以它们的值保存在栈空间，我们通过**按值访问**。

#### 堆空间
引用类型，**值大小不固定**，但指向值的**指针大小（内存地址）是固定的**，所以**把对象放入堆中，将对象的地址放入栈中**，这样，在调用栈中切换上下文时，只需要将指针下移到上个执行上下文的地址就可以了，同时保证了栈空间不会很大。
当查询引用类型的变量时，先从栈中读取内存地址，然后再通过地址找到堆中的值。对于这种，我们把它叫做**按引用访问**。

---

### [垃圾回收](./垃圾回收.md)

---
### JS 函数调用栈
在 `JavaScript` 中有很多函数，经常会出现一个函数调用另外一个函数的情况，调用栈就是用来管理函数调用关系的一种栈结构 。
调用栈是 `JavaScript` 用来管理**函数执行上下文**的一种数据结构，**它记录了当前函数执行的位置，哪个函数正在被执行**。 如果我们执行一个函数，就会为函数创建执行上下文并放入栈顶。 如果我们从函数返回，就将它的执行上下文从栈顶弹出。
函数调用栈是有大小的，当入栈过多，就会发生**栈溢出**。

浏览器中获取调用栈的方式：
* `断点调试`
* `console.trace()`


---