# HTTP 状态码详解

## 1xx 信息性状态码

### 100 Continue
- 含义：服务器已收到请求的初始部分，请客户端继续发送剩余部分
- 示例：上传大文件时，客户端先发送一个带有 `Expect: 100-continue` 的请求头，服务器响应 100 后再发送文件主体

### *101 Switching Protocols
- 含义：服务器同意切换协议
- 示例：WebSocket 连接时，客户端发送带有 `Upgrade: websocket` 的请求，服务器同意切换后返回 101

## 2xx 成功状态码

### 200 OK
- 含义：请求成功
- 示例：GET 请求成功获取资源，POST 请求成功提交数据

### 201 Created
- 含义：请求成功并创建了新资源
- 示例：POST 请求创建新用户后返回 201

### 202 Accepted
- 含义：请求已被接受，但尚未处理完成
- 示例：异步任务提交后，服务器接受请求但需要一段时间处理

### *204 No Content
- 含义：请求成功但无返回内容
- 示例：DELETE 请求删除资源成功后返回 204

### *206 Partial Content
- 含义：服务器成功处理了部分GET请求
- 示例：断点续传，客户端通过Range头部请求资源的部分内容

> 206 Partial Content 状态码用于服务器成功处理了客户端的范围请求（Range Request）。当客户端发送请求时，可以通过 Range 头部指定要请求资源的特定范围，比如`Range: bytes=0-1024` 表示请求资源的前1025个字节。服务器返回206响应时，会在响应头中包含 Content-Range 头部（如`Content-Range: bytes 0-1024/2048` ）指明返回内容的范围和资源总大小。这个状态码最常见的应用场景是支持断点续传和视频流媒体播放，允许客户端分片请求大文件或视频内容，提高传输效率和用户体验。

## 3xx 重定向状态码

### 301 *Moved Permanently
- 含义：资源永久移动到新位置
- 示例：网站域名变更，旧域名永久重定向到新域名

### 302 *Found
- 含义：资源临时移动到新位置
- 示例：未登录用户访问需要认证的页面，临时重定向到登录页

### 304 *Not Modified
- 含义：资源未修改，可使用缓存
- 示例：浏览器发送带有 `If-Modified-Since` 的请求，服务器判断资源未变化时返回 304

### 307 Temporary Redirect
- 含义：临时重定向，与302类似，但要求重定向后请求方法和body不变
- 示例：服务器维护时临时重定向到备用服务器，保持原有的POST请求方法

### 308 Permanent Redirect
- 含义：永久重定向，与301类似，但要求重定向后请求方法和body不变
- 示例：API版本升级，旧版本API永久重定向到新版本，保持原有的请求方法
- 含义：资源未修改，可使用缓存
- 示例：浏览器发送带有 `If-Modified-Since` 的请求，服务器判断资源未变化时返回 304

## 4xx 客户端错误状态码

### 400 Bad Request
- 含义：请求语法错误
- 示例：提交表单数据格式错误，服务器无法解析

### 401 *Unauthorized
- 含义：请求需要身份认证
- 示例：访问需要登录的 API 接口但未提供有效的认证信息

### 402 Payment Required
- 含义：需要付费才能访问
- 示例：访问付费API或需要订阅的内容

### *403 Forbidden
- 含义：服务器拒绝请求
- 示例：用户尝试访问没有权限的资源

### *404 Not Found
- 含义：请求的资源不存在
- 示例：访问已删除的页面或不存在的 API 接口

### *405 Method Not Allowed
- 含义：请求方法不允许
- 详解：服务器理解请求方法，但目标资源不支持该方法。服务器必须在响应中包含 Allow 头部，列出资源支持的所有 HTTP 方法
- 应用场景：
  1. RESTful API 资源操作限制：如只读资源不允许 POST/PUT/DELETE
  2. 特定端点方法限制：如登录接口只允许 POST，不允许 GET
- 与 403 Forbidden 区别：
  1. 405 表示资源本身不支持该操作方法
  2. 403 表示客户端认证后仍无权限访问资源
- 示例：
  1. 对只读资源发送 POST 请求
  2. 对只支持 GET 的统计接口发送 DELETE 请求
  3. 响应头示例：`Allow: GET, HEAD`

### 406 Not Acceptable
- 含义：服务器无法根据客户端请求的内容特性完成请求
- 示例：客户端请求JSON格式，但服务器只能提供XML格式

### 409 Conflict
- 含义：请求与服务器当前状态冲突
- 示例：提交的数据版本已过期，或尝试创建已存在的资源

### 410 Gone
- 含义：资源永久删除
- 示例：访问已永久删除的旧版本API

### *413 Payload Too Large
- 含义：请求实体过大
- 示例：上传的文件超过服务器限制

### 415 Unsupported Media Type
- 含义：不支持的媒体类型
- 示例：上传了不支持的文件格式

### 429 Too Many Requests
- 含义：请求频率超限
- 示例：API 限流，用户在短时间内发送过多请求

### 451 Unavailable For Legal Reasons
- 含义：因法律原因不可用
- 示例：访问因版权或政府审查而被禁止的内容
- 含义：请求频率超限
- 示例：API 限流，用户在短时间内发送过多请求

## 5xx 服务器错误状态码

### 500 Internal Server Error
- 含义：服务器内部错误
- 示例：服务器代码异常，数据库连接失败等

### 501 Not Implemented
- 含义：服务器不支持请求的功能
- 示例：服务器不支持某些新的 HTTP 方法

### 502 *Bad Gateway
- 含义：网关错误
- 示例：负载均衡服务器无法连接到后端服务器

### 503 *Service Unavailable
- 含义：服务暂时不可用
- 示例：服务器维护或过载

### 504 *Gateway Timeout
- 含义：网关超时
- 示例：负载均衡服务器等待后端服务器响应超时